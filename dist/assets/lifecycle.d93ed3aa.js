import{e as Ze,R as ne,r as b,_ as oe,d as ae,j as Fe,f as Pr,g as Sr,h as br,i as hr,k as gr,l as wr}from"./index.5179c8da.js";const Ut=(...e)=>()=>{Ze("setStream",...e)},jt=e=>()=>{Ze("setAfk",e)},$r=Symbol("SET_PROFILE"),er=e=>({type:$r,payload:e}),rr=Symbol("PROFILE_FETCH_START"),Or=Symbol("PROFILE_FETCH_FAILURE"),Er=(e,r)=>async(t,a)=>{const{profile:o}=a().self;if(!r&&(o.data||o.isFetching))return;t({type:rr,payload:void 0});const n=await fetch(`${API}/profile`,{credentials:"include"});if(n.status===401||n.status===404)return e.push("/login");if(n.status!==200){const s=await n.json();return t({type:Or,error:s})}const u=await n.json();return t(er(u))},Ht=()=>async(e,r)=>{if(!!r().self.isLoggedIn)return e(Er())},Cr=Symbol("PROFILE_UPDATE_FAILURE"),Bt=e=>async r=>{r({type:rr,payload:void 0});const t=await fetch(`${API}/profile`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.status!==200){const o=await t.json();return r({type:Cr,error:o})}const a=await t.json();return r(er(a))},Fr=Symbol("SHOW_FOOTER"),Wt=e=>r=>{r({type:Fr,payload:e})};function Rr(e){var r,t=e.Symbol;return typeof t=="function"?t.observable?r=t.observable:(r=t("observable"),t.observable=r):r="@@observable",r}var q;typeof self<"u"?q=self:typeof window<"u"?q=window:typeof global<"u"?q=global:typeof module<"u"?q=module:q=Function("return this")();Rr(q);var Re=function(){return Math.random().toString(36).substring(7).split("").join(".")};""+Re(),""+Re();function Kt(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.length===0?function(a){return a}:r.length===1?r[0]:r.reduce(function(a,o){return function(){return a(o.apply(void 0,arguments))}})}var _r=ne.createContext(null);function Mr(e){e()}var tr=Mr,Nr=function(r){return tr=r},Tr=function(){return tr};function xr(){var e=Tr(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var o=r;o;)o.callback(),o=o.next})},get:function(){for(var o=[],n=r;n;)o.push(n),n=n.next;return o},subscribe:function(o){var n=!0,u=t={callback:o,next:null,prev:t};return u.prev?u.prev.next=u:r=u,function(){!n||r===null||(n=!1,u.next?u.next.prev=u.prev:t=u.prev,u.prev?u.prev.next=u.next:r=u.next)}}}}var Ke={notify:function(){},get:function(){return[]}};function Ir(e,r){var t,a=Ke;function o(d){return f(),a.subscribe(d)}function n(){a.notify()}function u(){i.onStateChange&&i.onStateChange()}function s(){return Boolean(t)}function f(){t||(t=r?r.addNestedSub(u):e.subscribe(u),a=xr())}function p(){t&&(t(),t=void 0,a.clear(),a=Ke)}var i={addNestedSub:o,notifyNestedSubs:n,handleChangeWrapper:u,isSubscribed:s,trySubscribe:f,tryUnsubscribe:p,getListeners:function(){return a}};return i}var Ar=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.exports.useLayoutEffect:b.exports.useEffect,nr={exports:{}},c={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v=typeof Symbol=="function"&&Symbol.for,Ne=v?Symbol.for("react.element"):60103,Te=v?Symbol.for("react.portal"):60106,ue=v?Symbol.for("react.fragment"):60107,se=v?Symbol.for("react.strict_mode"):60108,ie=v?Symbol.for("react.profiler"):60114,ce=v?Symbol.for("react.provider"):60109,fe=v?Symbol.for("react.context"):60110,xe=v?Symbol.for("react.async_mode"):60111,pe=v?Symbol.for("react.concurrent_mode"):60111,le=v?Symbol.for("react.forward_ref"):60112,de=v?Symbol.for("react.suspense"):60113,qr=v?Symbol.for("react.suspense_list"):60120,ye=v?Symbol.for("react.memo"):60115,ve=v?Symbol.for("react.lazy"):60116,Lr=v?Symbol.for("react.block"):60121,Dr=v?Symbol.for("react.fundamental"):60117,Ur=v?Symbol.for("react.responder"):60118,jr=v?Symbol.for("react.scope"):60119;function $(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case Ne:switch(e=e.type,e){case xe:case pe:case ue:case ie:case se:case de:return e;default:switch(e=e&&e.$$typeof,e){case fe:case le:case ve:case ye:case ce:return e;default:return r}}case Te:return r}}}function or(e){return $(e)===pe}c.AsyncMode=xe;c.ConcurrentMode=pe;c.ContextConsumer=fe;c.ContextProvider=ce;c.Element=Ne;c.ForwardRef=le;c.Fragment=ue;c.Lazy=ve;c.Memo=ye;c.Portal=Te;c.Profiler=ie;c.StrictMode=se;c.Suspense=de;c.isAsyncMode=function(e){return or(e)||$(e)===xe};c.isConcurrentMode=or;c.isContextConsumer=function(e){return $(e)===fe};c.isContextProvider=function(e){return $(e)===ce};c.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ne};c.isForwardRef=function(e){return $(e)===le};c.isFragment=function(e){return $(e)===ue};c.isLazy=function(e){return $(e)===ve};c.isMemo=function(e){return $(e)===ye};c.isPortal=function(e){return $(e)===Te};c.isProfiler=function(e){return $(e)===ie};c.isStrictMode=function(e){return $(e)===se};c.isSuspense=function(e){return $(e)===de};c.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ue||e===pe||e===ie||e===se||e===de||e===qr||typeof e=="object"&&e!==null&&(e.$$typeof===ve||e.$$typeof===ye||e.$$typeof===ce||e.$$typeof===fe||e.$$typeof===le||e.$$typeof===Dr||e.$$typeof===Ur||e.$$typeof===jr||e.$$typeof===Lr)};c.typeOf=$;(function(e){e.exports=c})(nr);var Ie=nr.exports,Hr={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Br={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Wr={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ar={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ae={};Ae[Ie.ForwardRef]=Wr;Ae[Ie.Memo]=ar;function ze(e){return Ie.isMemo(e)?ar:Ae[e.$$typeof]||Hr}var Kr=Object.defineProperty,zr=Object.getOwnPropertyNames,Ve=Object.getOwnPropertySymbols,Vr=Object.getOwnPropertyDescriptor,Yr=Object.getPrototypeOf,Ye=Object.prototype;function ur(e,r,t){if(typeof r!="string"){if(Ye){var a=Yr(r);a&&a!==Ye&&ur(e,a,t)}var o=zr(r);Ve&&(o=o.concat(Ve(r)));for(var n=ze(e),u=ze(r),s=0;s<o.length;++s){var f=o[s];if(!Br[f]&&!(t&&t[f])&&!(u&&u[f])&&!(n&&n[f])){var p=Vr(r,f);try{Kr(e,f,p)}catch{}}}}return e}var ke=ur,sr={exports:{}},l={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me=60103,Pe=60106,W=60107,K=60108,z=60114,V=60109,Y=60110,k=60112,G=60113,qe=60120,J=60115,Q=60116,ir=60121,cr=60122,fr=60117,pr=60129,lr=60131;if(typeof Symbol=="function"&&Symbol.for){var S=Symbol.for;me=S("react.element"),Pe=S("react.portal"),W=S("react.fragment"),K=S("react.strict_mode"),z=S("react.profiler"),V=S("react.provider"),Y=S("react.context"),k=S("react.forward_ref"),G=S("react.suspense"),qe=S("react.suspense_list"),J=S("react.memo"),Q=S("react.lazy"),ir=S("react.block"),cr=S("react.server.block"),fr=S("react.fundamental"),pr=S("react.debug_trace_mode"),lr=S("react.legacy_hidden")}function E(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case me:switch(e=e.type,e){case W:case z:case K:case G:case qe:return e;default:switch(e=e&&e.$$typeof,e){case Y:case k:case Q:case J:case V:return e;default:return r}}case Pe:return r}}}var kr=V,Gr=me,Jr=k,Qr=W,Xr=Q,Zr=J,et=Pe,rt=z,tt=K,nt=G;l.ContextConsumer=Y;l.ContextProvider=kr;l.Element=Gr;l.ForwardRef=Jr;l.Fragment=Qr;l.Lazy=Xr;l.Memo=Zr;l.Portal=et;l.Profiler=rt;l.StrictMode=tt;l.Suspense=nt;l.isAsyncMode=function(){return!1};l.isConcurrentMode=function(){return!1};l.isContextConsumer=function(e){return E(e)===Y};l.isContextProvider=function(e){return E(e)===V};l.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===me};l.isForwardRef=function(e){return E(e)===k};l.isFragment=function(e){return E(e)===W};l.isLazy=function(e){return E(e)===Q};l.isMemo=function(e){return E(e)===J};l.isPortal=function(e){return E(e)===Pe};l.isProfiler=function(e){return E(e)===z};l.isStrictMode=function(e){return E(e)===K};l.isSuspense=function(e){return E(e)===G};l.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===W||e===z||e===pr||e===K||e===G||e===qe||e===lr||typeof e=="object"&&e!==null&&(e.$$typeof===Q||e.$$typeof===J||e.$$typeof===V||e.$$typeof===Y||e.$$typeof===k||e.$$typeof===fr||e.$$typeof===ir||e[0]===cr)};l.typeOf=E;(function(e){e.exports=l})(sr);var ot=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],at=["reactReduxForwardedRef"],ut=[],st=[null,null];function it(e,r){var t=e[1];return[r.payload,t+1]}function Ge(e,r,t){Ar(function(){return e.apply(void 0,r)},t)}function ct(e,r,t,a,o,n,u){e.current=a,r.current=o,t.current=!1,n.current&&(n.current=null,u())}function ft(e,r,t,a,o,n,u,s,f,p){if(!!e){var i=!1,d=null,m=function(){if(!i){var _=r.getState(),O,h;try{O=a(_,o.current)}catch(C){h=C,d=C}h||(d=null),O===n.current?u.current||f():(n.current=O,s.current=O,u.current=!0,p({type:"STORE_UPDATED",payload:{error:h}}))}};t.onStateChange=m,t.trySubscribe(),m();var P=function(){if(i=!0,t.tryUnsubscribe(),t.onStateChange=null,d)throw d};return P}}var pt=function(){return[null,0]};function lt(e,r){r===void 0&&(r={});var t=r,a=t.getDisplayName,o=a===void 0?function(w){return"ConnectAdvanced("+w+")"}:a,n=t.methodName,u=n===void 0?"connectAdvanced":n,s=t.renderCountProp,f=s===void 0?void 0:s,p=t.shouldHandleStateChanges,i=p===void 0?!0:p,d=t.storeKey,m=d===void 0?"store":d;t.withRef;var P=t.forwardRef,x=P===void 0?!1:P,_=t.context,O=_===void 0?_r:_,h=oe(t,ot),C=O;return function(y){var F=y.displayName||y.name||"Component",R=o(F),be=ae({},h,{getDisplayName:o,methodName:u,renderCountProp:f,shouldHandleStateChanges:i,storeKey:m,displayName:R,wrappedComponentName:F,WrappedComponent:y}),L=h.pure;function he(g){return e(g.dispatch,be)}var X=L?b.exports.useMemo:function(g){return g()};function D(g){var I=b.exports.useMemo(function(){var B=g.reactReduxForwardedRef,Ce=oe(g,at);return[g.context,B,Ce]},[g]),M=I[0],Z=I[1],j=I[2],ge=b.exports.useMemo(function(){return M&&M.Consumer&&sr.exports.isContextConsumer(ne.createElement(M.Consumer,null))?M:C},[M,C]),N=b.exports.useContext(ge),H=Boolean(g.store)&&Boolean(g.store.getState)&&Boolean(g.store.dispatch);Boolean(N)&&Boolean(N.store);var T=H?g.store:N.store,we=b.exports.useMemo(function(){return he(T)},[T]),De=b.exports.useMemo(function(){if(!i)return st;var B=Ir(T,H?null:N.subscription),Ce=B.notifyNestedSubs.bind(B);return[B,Ce]},[T,H,N]),ee=De[0],Ue=De[1],je=b.exports.useMemo(function(){return H?N:ae({},N,{subscription:ee})},[H,N,ee]),He=b.exports.useReducer(it,ut,pt),yr=He[0],re=yr[0],vr=He[1];if(re&&re.error)throw re.error;var Be=b.exports.useRef(),$e=b.exports.useRef(j),te=b.exports.useRef(),We=b.exports.useRef(!1),Oe=X(function(){return te.current&&j===$e.current?te.current:we(T.getState(),j)},[T,re,j]);Ge(ct,[$e,Be,We,j,Oe,te,Ue]),Ge(ft,[i,T,ee,we,$e,Be,We,te,Ue,vr],[T,ee,we]);var Ee=b.exports.useMemo(function(){return Fe(y,{...Oe,ref:Z})},[Z,y,Oe]),mr=b.exports.useMemo(function(){return i?Fe(ge.Provider,{value:je,children:Ee}):Ee},[ge,Ee,je]);return mr}var A=L?ne.memo(D):D;if(A.WrappedComponent=y,A.displayName=D.displayName=R,x){var U=ne.forwardRef(function(I,M){return Fe(A,{...I,reactReduxForwardedRef:M})});return U.displayName=R,U.WrappedComponent=y,ke(U,y)}return ke(A,y)}}function Je(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function _e(e,r){if(Je(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),a=Object.keys(r);if(t.length!==a.length)return!1;for(var o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(r,t[o])||!Je(e[t[o]],r[t[o]]))return!1;return!0}function dt(e,r){var t={},a=function(u){var s=e[u];typeof s=="function"&&(t[u]=function(){return r(s.apply(void 0,arguments))})};for(var o in e)a(o);return t}function Le(e){return function(t,a){var o=e(t,a);function n(){return o}return n.dependsOnOwnProps=!1,n}}function Qe(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?Boolean(e.dependsOnOwnProps):e.length!==1}function dr(e,r){return function(a,o){o.displayName;var n=function(s,f){return n.dependsOnOwnProps?n.mapToProps(s,f):n.mapToProps(s)};return n.dependsOnOwnProps=!0,n.mapToProps=function(s,f){n.mapToProps=e,n.dependsOnOwnProps=Qe(e);var p=n(s,f);return typeof p=="function"&&(n.mapToProps=p,n.dependsOnOwnProps=Qe(p),p=n(s,f)),p},n}}function yt(e){return typeof e=="function"?dr(e):void 0}function vt(e){return e?void 0:Le(function(r){return{dispatch:r}})}function mt(e){return e&&typeof e=="object"?Le(function(r){return dt(e,r)}):void 0}const Pt=[yt,vt,mt];function St(e){return typeof e=="function"?dr(e):void 0}function bt(e){return e?void 0:Le(function(){return{}})}const ht=[St,bt];function gt(e,r,t){return ae({},t,e,r)}function wt(e){return function(t,a){a.displayName;var o=a.pure,n=a.areMergedPropsEqual,u=!1,s;return function(p,i,d){var m=e(p,i,d);return u?(!o||!n(m,s))&&(s=m):(u=!0,s=m),s}}}function $t(e){return typeof e=="function"?wt(e):void 0}function Ot(e){return e?void 0:function(){return gt}}const Et=[$t,Ot];var Ct=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ft(e,r,t,a){return function(n,u){return t(e(n,u),r(a,u),u)}}function Rt(e,r,t,a,o){var n=o.areStatesEqual,u=o.areOwnPropsEqual,s=o.areStatePropsEqual,f=!1,p,i,d,m,P;function x(w,y){return p=w,i=y,d=e(p,i),m=r(a,i),P=t(d,m,i),f=!0,P}function _(){return d=e(p,i),r.dependsOnOwnProps&&(m=r(a,i)),P=t(d,m,i),P}function O(){return e.dependsOnOwnProps&&(d=e(p,i)),r.dependsOnOwnProps&&(m=r(a,i)),P=t(d,m,i),P}function h(){var w=e(p,i),y=!s(w,d);return d=w,y&&(P=t(d,m,i)),P}function C(w,y){var F=!u(y,i),R=!n(w,p,y,i);return p=w,i=y,F&&R?_():F?O():R?h():P}return function(y,F){return f?C(y,F):x(y,F)}}function _t(e,r){var t=r.initMapStateToProps,a=r.initMapDispatchToProps,o=r.initMergeProps,n=oe(r,Ct),u=t(e,n),s=a(e,n),f=o(e,n),p=n.pure?Rt:Ft;return p(u,s,f,e,n)}var Mt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Me(e,r,t){for(var a=r.length-1;a>=0;a--){var o=r[a](e);if(o)return o}return function(n,u){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+u.wrappedComponentName+".")}}function Nt(e,r){return e===r}function Tt(e){var r=e===void 0?{}:e,t=r.connectHOC,a=t===void 0?lt:t,o=r.mapStateToPropsFactories,n=o===void 0?ht:o,u=r.mapDispatchToPropsFactories,s=u===void 0?Pt:u,f=r.mergePropsFactories,p=f===void 0?Et:f,i=r.selectorFactory,d=i===void 0?_t:i;return function(P,x,_,O){O===void 0&&(O={});var h=O,C=h.pure,w=C===void 0?!0:C,y=h.areStatesEqual,F=y===void 0?Nt:y,R=h.areOwnPropsEqual,be=R===void 0?_e:R,L=h.areStatePropsEqual,he=L===void 0?_e:L,X=h.areMergedPropsEqual,D=X===void 0?_e:X,A=oe(h,Mt),U=Me(P,n,"mapStateToProps"),g=Me(x,s,"mapDispatchToProps"),I=Me(_,p,"mergeProps");return a(d,ae({methodName:"connect",getDisplayName:function(Z){return"Connect("+Z+")"},shouldHandleStateChanges:Boolean(P),initMapStateToProps:U,initMapDispatchToProps:g,initMergeProps:I,pure:w,areStatesEqual:F,areOwnPropsEqual:be,areStatePropsEqual:he,areMergedPropsEqual:D},A))}}const zt=Tt();Nr(Pr.exports.unstable_batchedUpdates);var Se=wr.exports,xt=void 0,It=Se(Sr()),At=Se(br()),Xe=b.exports;Se(hr());Se(gr());var qt=function(r){return function(t){var a=(0,Xe.createFactory)(t),o=function(n){(0,At.default)(u,n);function u(){return n.apply(this,arguments)||this}var s=u.prototype;return s.render=function(){return a((0,It.default)({},this.props,this.state))},u}(Xe.Component);return Object.keys(r).forEach(function(n){return o.prototype[n]=r[n]}),o}},Lt=qt;xt=Lt;export{zt as a,Ut as b,Kt as c,xt as d,Ht as e,Er as f,Wt as g,jt as s,Bt as u};
